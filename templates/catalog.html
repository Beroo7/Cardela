{% extends "base.html" %}

{% block title %}
  Catalog
{% endblock %}

{% block content %}
<div class="d-flex mx-2" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" id="searchInput">
        <button class="btn btn-outline-success" type="submit" id="searchButton">Search</button>
</div>
<div class="container-fluid bg-white mt-5 border-top border-bottom shadow">
    <h1>All Items</h1>
        <div class="container mb-4">
            <div class="row row-cols-lg-4 row-cols-md-2 row-cols-sm-1 gy-3 mt-3">
    {% for product in products %}
    <div class="col">
        <div class="card" style="width: 18rem;">
            <img src="/static/{{ product.img }}"
                 class="card-img-top"
                 alt="...">
            <div class="card-body">
                <p class="card-title">{{ product.name }}</p>
                <h3>${{ product.price }}</h3>
                <a href="/product/{{ product.id }}" class="btn btn-primary">
                    View Product
                </a>
            </div>
            {% if current_user.role == "admin" %}
            <li class="list-group-item">
                <a href="/edit_product/{{ product.id }}" class="btn btn-outline-info m-3 mt-0"> Edit </a>
                    <a href="/delete_product/{{ product.id }}" class="btn btn-danger m-3 mt-0"> Delete </a>
            </li>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
        </div>
    </div>

{% endblock %}